<template>
    <v-container fluid grid-list-md>
        <v-layout row wrap>
            <v-flex xs12>
                <v-toolbar color="primary">
                    axios eg
                </v-toolbar>
            </v-flex>
                <v-flex xs3>
                  <v-card>
                    <v-card-title primary-title>
                     create
                    </v-card-title>
                    <v-card-text>
                        <v-textarea
                            v-model="textCreate"
                            rows="10"
                        >
                        </v-textarea>
                    </v-card-text>
                    <v-card-actions>
                        <v-btn flat color="primary" @click="create">submit</v-btn>
                    </v-card-actions>
                  </v-card>
                </v-flex>
                <v-flex xs3>
                 <v-card>
                    <v-card-title primary-title>
                     read
                    </v-card-title>
                    <v-card-text>
                         <v-textarea
                            v-model="textRead"
                            rows="10"
                        >
                        </v-textarea>
                    </v-card-text>
                    <v-card-actions>
                        <v-btn flat color="primary"  @click="read">submit</v-btn>
                    </v-card-actions>
                  </v-card>
                </v-flex>

                <v-flex xs3>
                    <v-card>
                        <v-card-title primary-title>
                        update
                        </v-card-title>
                        <v-card-text>
                            <v-textarea
                                v-model="textUpdate"
                                rows="10"
                            >
                            </v-textarea>
                        </v-card-text>
                        <v-card-actions>
                            <v-btn flat color="primary"  @click="update">submit</v-btn>
                        </v-card-actions>
                    </v-card>
                </v-flex>

                <v-flex xs3>
                    <v-card>
                        <v-card-title primary-title>
                        delete
                        </v-card-title>
                        <v-card-text>
                            <v-textarea
                                v-model="textDelete"
                                rows="10"
                            >
                            </v-textarea>
                        </v-card-text>
                        <v-card-actions>
                            <v-btn flat color="primary"  @click="del">submit</v-btn>
                        </v-card-actions>
                    </v-card>   
                </v-flex>
        </v-layout>
    </v-container>
</template>
<script>
export default {
    data(){
        return {
            textCreate :'',
            textRead :'',
            textUpdate : '',
            textDelete:''
        }
    },
    methods : {
        async create() {
            // this.$toasted.show('hello billo')
            // this.$toasted.global.error('잘못했어요')
            let address = 'test'
            const r = await this.$axios.post(address)
            this.textCreate = r.data;
        },
        read(){
             let address = 'http://localhost:5000/vue-test-403bd/us-central1/test/12345'
            this.$axios.get(address)
            .then(r => {
                this.textRead = r.data
            })
            .catch(e => console.log(e.message))
        },
        update(){
             let address = 'http://localhost:5000/vue-test-403bd/us-central1/test/44411155'
            this.$axios.put(address)
            .then(r => {
                this.textUpdate = r.data 
            })
            .catch(e => console.log(e.message))
        },
        del(){
             let address = 'http://localhost:5000/vue-test-403bd/us-central1/test/44455'
            this.$axios.delete(address)
            .then(r => {
                this.textDelete = r.data
            })
            .catch(e => console.log(e.message))
        }
    }
}
</script>